## Stock Trading Robot

Торговый робот для алгоритмической торговли на бирже MOEX на базе клиентского API Tinkoff Invest Python gRPC client API v.2

Документация API: https://tinkoff.github.io/investAPI/

SDK для разработки с использованием Public API: https://github.com/Tinkoff/invest-python

### Описание проекта
Торговый робот создан с целью автоматизации торговли ценными бумагами на бирже MOEX, имеет два контура - "боевой", 
предназначенный для исполнения ордеров на бирже и "песочница", предназначенный для тестирования API и торговых гипотез,
заявки с которого не выводятся на биржу, а исполняются в эмуляторе. Статистика торговых поручений заносится
в базу данных для дальнейшего анализа. Уведомления об открытии/закрытии позиций отправляются в телеграм.

### Торговая стратегия
В качестве демонстрации работы представлена стратегия, основанная на торговле от границ диапазона, расчитанного 
на основе экстремумов цен в заданном временном окне.


### Telegram messages
Для получения уведомлений в Telegram об открытии и закрытии позиций необходимо 
зарегистрировать своего бота через @BotFather, получить токен, создать чат и получить chat_id.

### Запуск
Для запуска необходимо открыть брокерский счет Тинькофф Инвестиции, 
создать токен и сохранить его переменные окружения INVEST_TOKEN

Устанавливаем зависимости:
```
pip install -r requirements.txt
```
Для песочницы создаем и пополняем счет:
```
python sb_account_pay_in.py
```
Получаем account id и сохраняем в settings.py (зависимости от значения флага SANDBOX в settings.py
будет получен id реального счета или песочницы):
```
python get_accounts.py
```
Запуск робота:
```
python main.py
```
 




